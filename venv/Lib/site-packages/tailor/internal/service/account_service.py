# -*- coding: utf-8 -*-
import uuid

from tailor.internal.domain.account.account_repository import AccountRepository
from tailor.internal.domain.postgres.models import AccountDao


class AccountService:
    def __init__(self):
        self.repository: AccountRepository = AccountRepository()

    def insert(self, entity: AccountDao):
        return self.repository.insert(entity)

    def find_by_id(self, entity_id) -> AccountDao:
        return self.repository.find_by_id(entity_id)

    def find_by_uuid(self, uuid: str) -> AccountDao:
        return self.repository.find_by_uuid(uuid)

    def find_by_name(self, name: str) -> AccountDao:
        return self.repository.find_by_name(name)

    def create(self, organization_name: str, organization_id: str) -> AccountDao:
        account = AccountDao(organization_name=organization_name,
                             organization_id=organization_id,
                             uuid=str(uuid.uuid4()))
        return self.repository.insert(account)

    def find_all(self):
        return self.repository.find_all()
